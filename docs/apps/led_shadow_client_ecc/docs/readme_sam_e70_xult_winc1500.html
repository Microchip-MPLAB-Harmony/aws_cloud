<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Building and Running on SAM E70 Xplained Ultra + WINC1500 | Microchip MPLAB Harmony AWS Cloud help</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Building and Running on SAM E70 Xplained Ultra + WINC1500" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 AWS Cloud package" /> <meta property="og:description" content="Harmony 3 AWS Cloud package" /> <link rel="canonical" href="../../../apps/led_shadow_client_ecc/docs/readme_sam_e70_xult_winc1500.html" /> <meta property="og:url" content="../../../apps/led_shadow_client_ecc/docs/readme_sam_e70_xult_winc1500.html" /> <meta property="og:site_name" content="Microchip MPLAB Harmony AWS Cloud help" /> <script type="application/ld+json"> {"@type":"WebPage","headline":"Building and Running on SAM E70 Xplained Ultra + WINC1500","url":"../../../apps/led_shadow_client_ecc/docs/readme_sam_e70_xult_winc1500.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"description":"Harmony 3 AWS Cloud package","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../" class="nav-list-link">AWS Cloud Component and Applications</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../apps/ota_update_demo/readme.html" class="nav-list-link">OTA Update Demo Application</a></li><li class="nav-list-item active"><a href="../../../apps/led_shadow_client_ecc/readme.html" class="nav-list-link">LED Shadow Client Application</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Microchip MPLAB Harmony AWS Cloud help" aria-label="Search Microchip MPLAB Harmony AWS Cloud help" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../../">AWS Cloud Component and Applications</a></li> <li class="breadcrumb-nav-list-item"><a href="../../../apps/led_shadow_client_ecc/readme.html">LED Shadow Client Application</a></li> <li class="breadcrumb-nav-list-item"><span>Building and Running on SAM E70 Xplained Ultra + WINC1500</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><a href="https://www.microchip.com"><img src="https://www.microchip.com/ResourcePackages/Microchip/assets/dist/images/logo.png" alt="MCHP" /></a></p> <h1 id="building-and-running-on-sam-e70-xplained-ultra--winc1500"> <a href="#building-and-running-on-sam-e70-xplained-ultra--winc1500" aria-labelledby="building-and-running-on-sam-e70-xplained-ultra--winc1500" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Building and Running on SAM E70 Xplained Ultra + WINC1500 </h1> <h2 id="downloading-and-building-the-application"> <a href="#downloading-and-building-the-application" aria-labelledby="downloading-and-building-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Downloading and building the application </h2> <p>To clone or download this application from Github,go to the <a href="https://github.com/Microchip-MPLAB-Harmony/aws_cloud">main page of this repository</a> and then click Clone button to clone this repo or download as zip file. This content can also be download using content manager by following <a href="https://github.com/Microchip-MPLAB-Harmony/contentmanager/wiki">these instructions</a></p> <p>Path of the application within the repository is <strong>apps/led_shadow_client_ecc/</strong></p> <p>To build the application, refer to the following table and open the project using its IDE.</p> <h3 id="led-shadow-client-demo-application"> <a href="#led-shadow-client-demo-application" aria-labelledby="led-shadow-client-demo-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LED Shadow Client Demo Application </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Project Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>firmware/sam_e70_xult_winc1500.X</td> <td>MPLABX Project for <a href="https://www.microchip.com/Developmenttools/ProductDetails/DM320113">SAM E70 Xplained Ultra</a></td> </tr> </tbody> </table></div> <h2 id="provisoning-the-device-for-aws-account-access"> <a href="#provisoning-the-device-for-aws-account-access" aria-labelledby="provisoning-the-device-for-aws-account-access" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provisoning the device for AWS account access. </h2> <ul> <li>Refer to <a href="https://github.com/MicrochipTech/amazon-freertos/blob/mchpdev/vendors/microchip/boards/GettingStarted_With%20SAME70.md">Getting Started guide</a> for setting up the AWS account based on your hardware configuration.</li> <li>With the completion of the above steps, the user would have got aws_clientcredential.h and aws_clientcredentialkeys.h, this may be used for running the demos.</li> </ul> <h2 id="setting-up-sam-e70-xplained-pro-ultra"> <a href="#setting-up-sam-e70-xplained-pro-ultra" aria-labelledby="setting-up-sam-e70-xplained-pro-ultra" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up <a href="https://www.microchip.com/Developmenttools/ProductDetails/DM320113">SAM E70 Xplained Pro Ultra</a> </h2> <ul> <li>Connect the Debug USB port on the board to the computer using a micro USB cable</li> <li>Connect the ATECC608A Trust on the mikroBUS Xplained Pro adapter in EXT2.</li> <li>Connect the WINC1500 Xplained Pro in EXT1</li> </ul> <h2 id="building-the-application"> <a href="#building-the-application" aria-labelledby="building-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Building the Application </h2> <ol> <li>Open the application project <em>firmware/sam_e70_xult_winc1500.X</em> in the IDE</li> <li>Use the aws_clientcredential.h and aws_clientcredentialkeys.h obtained from provisoning the device to aws account.</li> <li>Enter the WIFI credentials in aws_clientcredential.h if not entered already.</li> <li>Build and program the application using the IDE</li> </ol> <h2 id="running-the-application"> <a href="#running-the-application" aria-labelledby="running-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running the Application </h2> <ol> <li>Ensure Wifi router is connected to internet before turning on the board.</li> <li>If above step is successful then the <strong>LED0</strong> on the board would turn ON/OFF once.</li> <li>Open the Terminal application (Ex.:Tera Term) on the computer</li> <li>Configure the serial port settings as follows: <ul> <li>Baud : 115200</li> <li>Data : 8 Bits</li> <li>Parity : None</li> <li>Stop : 1 Bit</li> <li>Flow Control : None</li> </ul> </li> <li>Login to your AWS amazon account From the Services menu (upper left), click (or search for) IoT Core and open it. This will open the Aws IoT page as shown below.</li> </ol> <p><img src="../../../apps/led_shadow_client_ecc/docs/images/image0.png" alt="Things Screen" /></p> <ol> <li>From the menu on the left, Click “Manage” and then Click “Things”. This will display all the things managed by your AWS account in the right pane. In the right pane, click the “Things” item, which represents your device.</li> </ol> <p><img src="../../../apps/led_shadow_client_ecc/docs/images/Image1.png" alt="Things Screen" /></p> <ol> <li>The THING Name and Shadow ARN are masked for security reasons. Click on the “Shadow” item in the right pane. This will display the device shadow page.</li> <li>Build and Program the application using the MPLAB X IDE. The device will toggle one LED and now a shadow document will be created in the Device’s Shadow page. The Shadow state document is JSON formatted file representing the device’s state, in this example the LED status is depicated as device’s status.</li> <li>The JSON variable “powerOn” indicates the LED state of the board and Shadow state depicts the current state of the device. <img src="../../../apps/led_shadow_client_ecc/docs/images/image2.png" alt="Things Screen" /></li> <li>The user can modify the Shadow state till the connection is alive by click on the Edit button in the Shadow Document and changing the “powerOn” state. <img src="../../../apps/led_shadow_client_ecc/docs/images/image3.png" alt="Things Screen" /></li> <li>Change the power On value to ‘1’ and click on the Save Button, this will turn LED0 “ON”. Changing the value to 0 will turn LED0 off. Similarly it follows below truth table.</li> </ol> <div class="table-wrapper"><table> <thead> <tr> <th>S.No</th> <th>LED1</th> <th>LED0</th> <th>powerOn (Value)</th> <th>Remarks</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>OFF</td> <td>OFF</td> <td>0</td> <td>All LED off.</td> </tr> <tr> <td>2.</td> <td>OFF</td> <td>ON</td> <td>1</td> <td>LED0 On.</td> </tr> <tr> <td>3.</td> <td>ON</td> <td>OFF</td> <td>2</td> <td>LED1 On</td> </tr> <tr> <td>4.</td> <td>ON</td> <td>ON</td> <td>3</td> <td>LED1 and LED0 On</td> </tr> </tbody> </table></div> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2021 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
